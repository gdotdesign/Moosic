!!! 5
%html
  %head
    %title  
      Moosic
    %link{:href => "/normalize.css", :rel => "stylesheet", :type => "text/css"}
    %link{:href => "/theme.css", :rel => "stylesheet", :type => "text/css"}
    %script{:src => "/mootools-core-1.3.1-full-compat-yc.js", :type => "text/javascript"}
    %script{:src => "/mootools-more-1.3.2.1.js", :type => "text/javascript"}
    %script{:src => "/player.js", :type => "text/javascript"}
  %body
    %header
      %h1
        Moosic
      %h2
        A simple HTML5 audio player with the power of MooTools.
      %hr
      %nav{:role => "navigation"}
        %ul
          %li
            %a{:href => "download"}
              Download
          %li
            %a{:href => "usage"}
              Usage
          %li
            %a{:href => "docs"}
              Documentation
          %li
            %a{:href => "theme"}
              Themes
          %li
            %a{:href => "theme"}
              Get Involved
          %ul
      %hr
    #player
    %article
      %h3
        Download
      %hr
      %section
        .download
          .arrow
          .title
            Moosic
          .version
            1.0:
            RC1
        %p 
          You can download 
          %b Moosic
          with the button on the right or at Github.
        %p
          Github: 
          %a{:href=>"https://github.com/gdotdesign/moosic"} https://github.com/gdotdesign/moosic
        %p
          Dependecies
          %ol
            %li
              %a{:href=>"http://mootools.net/download"} MooTools Core 1.3.1
            %li
              %a{:href=>"http://mootools.net/more/"} 
                MooTools More
              :plain
                -
              with Element.Delegation
      %h3
        Usage
      %hr
      %section
        %p 
          Moosic has two parts: the HTML5 audio tag 
          %b wrapper
          , and the 
          %b player interface.
        %p
          The 
          %b wrapper
          allows you to create your own interface:
        %code
          %pre
            :plain
              window.addEvent("domready",function(){
                var player = new Moosic.Wrapper();
                player.add({
                  title: "Elements",
                  album: "Lost Horizons",
                  artist: "Lemonjelly",
                  src: "/songs/1 - Elements.mp3",
                });
                $("play").addEvent("click",function(){
                  player.play(0)
                })
              });
        %p
          To make you custom interface study the 
          %a{:href=>"#docs"} documentation.
        %p
          The 
          %b player
          is the actual interface you see in this page. It uses the wrapper as a backend.
          To use the player just load the script and the theme and initialize it like so (don't forget the dependencies):
        %code
          %pre
            :escaped
              <link href="/theme.css" type="text/css" rel="stylesheet">
              <script src="/moosic.js" type="text/javascript"></script>
        %code
          %pre
            :escaped
              <script type="text/javascript">
                window.addEvent("domready",function(){
                  var player = new Moosic.Player({options});
                  player.add({
                    title: "Elements",
                    album: "Lost Horizons",
                    artist: "Lemonjelly",
                    src: "/songs/1 - Elements.mp3",
                  });
                  $("player").grab(player)
                });
              </script>
      %h3 
        Doucmentation
      %hr
      %section
        .class
          Class: Moosic.Wrapper
        .property
          Properties
        %code
          %pre
            :escaped
              if(player.playing != null) 
                player.pause()
        %ul
          %li
            %b playing:
            The Song that is playing at the time, or null.
          %li
            %b audio:
            The HTML5 audio tag.
        .property
          Events
        %code
          %pre
            :escaped
              player.addEvent("play",function(song,index){
                console.log("Playing song: "+song.title);
              });
        %ul
          %li
            %b update:
            Fires every time the timeupdate event on the audio tag runs.
          %li
            %b idle:
            Fires when there is nothing playing.
          %li
            %b play:
            Fires when a song starts playing.
          %li
            %b pause:
            Fires when the current playing song is paused.
          %li
            %b resume:
            Fires when the current song is resumed playing.
          %li
            %b empty:
            Fires when playlist is emptied.
          %li
            %b added:
            Fires when a song is added to the playlist by the add() method.
          %li
            %b removed:
            Fires when a song is removed from the playlist by the remove() method.
        .property
          Attributes
        %code
          %pre
            :escaped
              player.set('shuffle',true);
        %ul
          %li
            %b shuffle:
            To randomly choose a song to play on next(), previous() or when a song is ended.
          %li
            %b repeat:
            Weather or not to play from the first song when the last song finished playing.
        .property
          Methods
        %code
          %pre
            :escaped
              player.pause();
        %ul
          %li
            %b play(song):
            Plays the song passed as argument. If the song is a number it will play the song with that index. If the song isn't in the playlist it will add it and start playing. If ommitted it starts playing the first song in the playlist.
          %li
            %b pause():
            Pauses the currently playing song.
          %li
            %b stop():
            Stops the currently playing song, fires the idle event.
          %li
            %b next():
            Plays the next song from the playlist.
          %li
            %b previous():
            Plays the previous song from the playlist.
          %li
            %b add(song):
            Adds the song to the playlist.
          %li
            %b remove(song):
            Removes the song from the playlist.
          %li
            %b empty():
            Removes all songs from the playlist, and stopping the playback.
        .class
          Class: Moosic.Song
        .property
          Properties
        %ul
          %li
            %b title:
            The title of the song.
          %li
            %b cover:
            Url to the cover art of the song.
          %li
            %b src:
            Url to the source file (mp3, ogg).
          %li
            %b album:
            The album of the song.
          %li
            %b artist:
            The artist of the Song.
      %h3 
        Themes
      %hr
      %section
        %p Themes use sass.
      %h3 
        Get Involved
      %hr
      %section
        %p You can report any bugs on the github issues page.
        %p If you want to work on Moosic you are free to do so (fork it and have at it), just follow the guidelines on github.
        %h4
          What is needed:
        %ol
          %li
            Currently there is no flash fallback, if some falsh guru can make it that would be awesome.
          %li
            Player themes needs to be converted to Less to support more users.
          %li
            Other Interface implementations would be nice.
      %h3 
        Credits
      %hr
      %section
        %p 
          %a{:href=>"http://bsa-danny.deviantart.com/art/Woody-Wallpaper-211437542?q=boost%3Apopular%20wood%20wallpaper&qo=16"}
            Background image
          is from *BSA-Danny from deviantart.
        %p
          Songs are from the album on 
          %a{:href=>"http://www.jamendo.com/en/album/3777"} jamendo
          , by 
          %a{:href=>"http://raijekov.com/"} Antony Raijekov.
